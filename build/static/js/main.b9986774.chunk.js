(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,a){e.exports=a(67)},56:function(e,t,a){},57:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),l=(a(56),a(3)),i=(a(57),a(46)),s=a(43),u=a.n(s),m=a(84),d=a(85);function p(){var e=Object(n.useContext)(S),t=Object(l.a)(e,4),a=t[0],o=(t[1],t[2]),c=t[3],s=Object(n.useState)(!1),p=Object(l.a)(s,2),b=p[0],h=p[1],f=Object(i.a)(),g=f.register,E=f.handleSubmit,v=(f.watch,f.errors);return r.a.createElement("div",null,r.a.createElement("form",{className:"create-note",onSubmit:E((function(e){c(o+1),e.email=a.email,e.role="user",fetch("http://localhost:5000/addNotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){}))}))},b&&r.a.createElement("input",{name:"title",defaultValue:"Title",ref:g({required:!0})}),r.a.createElement("input",{name:"takeANote",onClick:function(){h(!0)},defaultValue:"Take A Note ...",rows:b?3:1,ref:g({required:!0})}),v.exampleRequired&&r.a.createElement("span",null,"This field is required"),r.a.createElement(d.a,{type:"submit",in:b},r.a.createElement(m.a,null,r.a.createElement(u.a,null)))))}var b=a(44),h=a.n(b),f=a(18),g=a(16);a(42);var E=function(){var e=Object(n.useContext)(S),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light header"},r.a.createElement(f.b,{className:"navbar-brand",to:"/"},r.a.createElement("h1",null,r.a.createElement(h.a,null)," Keeper")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},a.name),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement("button",{className:"dropdown-item btn btn-warning",onClick:function(){g.auth().signOut().then((function(){o({name:" ",email:""})})).catch((function(e){}))}},"Log Out"))))))},v=a(45),j=a.n(v),O=function(e){var t=e.note,a=Object(n.useContext)(S),o=Object(l.a)(a,4),c=(o[0],o[1],o[2]),i=o[3],s=function(e){i(c+1),fetch("http://localhost:5000/delete/".concat(t._id),{method:"DELETE"}).then((function(e){return e.json})).then((function(e){}))};return r.a.createElement("div",{className:"note col-md-4 col-lg-3"},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.takeANote),r.a.createElement("button",{onClick:function(){return s("".concat(t._id))}},r.a.createElement(j.a,null)))},N=function(){var e=Object(n.useContext)(S),t=Object(l.a)(e,4),a=t[0],o=(t[1],t[2]),c=(t[3],Object(n.useState)([])),i=Object(l.a)(c,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){fetch("http://localhost:5000/myNotes?email="+a.email,{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(sessionStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return u(e)}))}),[o]),r.a.createElement("div",null,r.a.createElement(E,null),r.a.createElement(p,null),r.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},s.map((function(e){return r.a.createElement(O,{key:e._id,note:e})}))))},k={apiKey:"AIzaSyCzOz0ize4ZcFrsXYCO_dAxq0cfxKX8ank",authDomain:"keeper-arnob.firebaseapp.com",databaseURL:"https://keeper-arnob.firebaseio.com",projectId:"keeper-arnob",storageBucket:"keeper-arnob.appspot.com",messagingSenderId:"193962895540",appId:"1:193962895540:web:43de8e76e2a8876d8b4fe1"},w=a(4),x=function(){var e=Object(n.useContext)(S),t=Object(l.a)(e,2),a=(t[0],t[1]),o=Object(w.g)(),c=(Object(w.h)().state||{from:{pathname:"/"}}).from;0===g.apps.length&&g.initializeApp(k);var i=function(){g.auth().currentUser.getIdToken(!0).then((function(e){sessionStorage.setItem("token",e),o.replace(c)})).catch((function(e){}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"signInButton d-flex row flex-column  align-items-center justify-content-center"},r.a.createElement("h2",{className:"text-center"},"Welcome To Google Keep"),r.a.createElement("button",{className:"btn btn-primary mt-5",onClick:function(){var e=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(e).then((function(e){var t=e.user,n=t.displayName,r=t.email,o=t.photoURL;a({name:n,email:r,photoURL:o}),i()})).catch((function(e){var t=e.message;console.log(t)}))}},r.a.createElement("img",{src:"../images/google.png",alt:""})," Google Sign in")))},C=a(47),y=function(e){var t=e.children,a=Object(C.a)(e,["children"]),o=Object(n.useContext)(S),c=Object(l.a)(o,2),i=c[0];c[1];return r.a.createElement(w.b,Object.assign({},a,{render:function(e){var a=e.location;return i.email?t:r.a.createElement(w.a,{to:{pathname:"/login",state:{from:a}}})}}))},S=Object(n.createContext)();var T=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(0),i=Object(l.a)(c,2),s=i[0],u=i[1];return r.a.createElement(S.Provider,{value:[a,o,s,u]},r.a.createElement(f.a,null,r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/login"},r.a.createElement(x,null)),r.a.createElement(y,{path:"/"},r.a.createElement(N,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.b9986774.chunk.js.map